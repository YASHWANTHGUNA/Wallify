const images = [
{
    id : 1,
    src : 'Pinterest/alchemist_anime.jpeg',
    title: 'Full Metal Alchemist',
    tags: ['anime'],
    description : 'A wallpaper of Alchemist anime',
},
{
    id : 2,
    src : 'Pinterest/alchemist6.jpeg',
    title: 'Full Metal Alchemist',
    tags: ['anime'],
    description : 'A wallpaper of Alchemist anime',
},

{
    id : 3,
    src : 'Pinterest/AOT(6).jpeg',
    title: 'Atack On Titan',
    tags: ['anime'],
    description : 'A wallpaper of Attack on Titan anime',
},

{
    id : 4,
    src : 'Pinterest/Aot1.jpeg',
    title: 'Attack On Titan',
    tags: ['anime'],
    description : 'A wallpaper of Attack on Titan anime',
},

{
    id : 5,
    src : 'Pinterest/car1.jpeg',
    title: 'Car Aesthetics',
    tags: ['cars'],
    description : 'A wallpaper of a Car',
},

{
    id : 6, // Corrected duplicate ID
    src : 'Pinterest/car2.jpeg',
    title: 'Car Aesthetics',
    tags: ['cars'],
    description : 'A wallpaper of a Car',
},

{
    id : 7, // Corrected duplicate ID
    src : 'Pinterest/car3.jpeg',
    title: 'Car Aesthetics',
    tags: ['cars'],
    description : 'A wallpaper of a car',
},

{
         id : 8, // Renumbered ID
         src : 'Pinterest/Deathnote1.jpeg',
         title: 'Death Note',
         tags: ['anime'],
         description : 'A wallpaper of a Death Note Anime',
},

{
         id : 9, // Renumbered ID
         src : 'Pinterest/Deathnote2.jpeg',
         title: 'Death Note',
         tags: ['anime'],
         description : 'A wallpaper of Death Note anime',
},

{
         id : 10, // Renumbered ID
         src : 'Pinterest/Deathnote3.jpeg',
         title: 'Death Note',
         tags: ['anime'],
         description : 'A wallpaper of Death Note anime',
},

{
         id : 11, // Renumbered ID
         src : 'Pinterest/Deathnote4.jpeg',
         title: 'Death Note',
         tags: ['anime'],
         description : 'A wallpaper of Death Note anime',

},

{
         id : 12, // Renumbered ID
         src : 'Pinterest/detectiveL.jpeg',
         title: 'Death Note',
         tags: ['anime'],
         description : 'A wallpaper of Detective L from Death Note anime',
},

{
         id : 13, // Renumbered ID
         src : 'Pinterest/drstone.jpeg',
         title: 'Dr Stone',
         tags: ['anime'],
         description : 'A wallpaper of Dr Stone anime',
},

{   
    id : 14, // Renumbered ID
    src : 'Pinterest/elric.jpeg',
    title: 'Elric Brothers',
    tags: ['anime'],
    description : 'A wallpaper of Elric Brothers from Full Metal Alchemist anime', 
},
{
         id : 15,
         src : 'Pinterest/fullmetalalchemist1.jpeg',
         title: 'Full Metal Alchemist',
         tags: ['anime'],
         description : 'A wallpaper of  from Full Metal Alchemist anime', 
},
         
{
         id : 16,
         src : 'Pinterest/fullmetalalchemist2.jpeg',
         title: 'Full Metal Alchemist',
         tags: ['anime'],
         description : 'A wallpaper of from Full Metal Alchemist anime', 
},
         
{
         id : 17,
         src : 'Pinterest/fullmetalalchemist3.jpeg',
         title: 'Full Metal Alchemist',
         tags: ['anime'],
         description : 'A wallpaper of  from Full Metal Alchemist anime',
},

{
         id : 18,
         src : 'Pinterest/kgf2interval.jpeg',
         title: 'KGF2 ROCKY INTERVAL',
         tags: ['movies'],
         description : 'A wallpaper of  Rocky from KGF2 movie',
},

{
         id : 19,
         src : 'Pinterest/gojo.jpeg',
         title: 'Gojo',
         tags: ['anime'],
         description : 'A wallpaper of  Gojo from Jujutsu Kaisen anime',
},

{
    id : 20,
    src : 'Pinterest/gojo2.jpeg',
    title: 'Jujutsu Kaisen',
    tags: ['anime'],
    description : 'A wallpaper of Gojo from Jujutsu Kaisen anime', 
},

{
    id : 21,
    src : 'Pinterest/image1.jpeg',
    title: 'Aesthetics',
    tags: ['aesthetics'],
    description : 'A wallpaper of Aesthetics',
},

{
         id : 22,
         src : 'Pinterest/image2.jpeg',
         title: 'Aesthetics',
         tags: ['anime'],
         description : 'A wallpaper of Aesthetics',
},
         
{
         id : 23,
         src : 'Pinterest/image3.jpeg',
         title: 'Aesthetics',
         tags: ['anime'],
         description : 'A wallpaper of Aesthetics',
},
         
{
         id : 24,
         src : 'Pinterest/image4.jpeg',
         title: 'Aesthetics',
         tags: ['aesthetics'],
         description : 'A wallpaper of Aesthetics',
},

{
         id : 25,
         src : 'Pinterest/image6.jpeg',
         title: 'Aesthetics',
         tags: ['aesthetics'],
         description : 'A wallpaper of Aesthetics',
},

{
         id : 26,
         src : 'Pinterest/jjk1.jpeg',
         title: 'Jujutsu Kaisen',
         tags: ['anime'],
         description : 'A wallpaper of Anime Jujutsu Kaisen',
},

{
    id : 27,
    src : 'Pinterest/jjk2.jpeg',
    title: 'Jujutsu Kaisen',
    tags: ['anime'],
    description : 'A wallpaper of Anime Jujutsu Kaisen',
},

{
         id : 28,
         src : 'Pinterest/nanami.jpeg',
         title: 'Jujutsu Kaisen',
         tags: ['anime'],
         description : 'A wallpaper of Kento Nanami from Jujutsu Kaisen anime',
},
         
{
          id : 29,
          src : 'Pinterest/Nanamibackshot.jpeg',
          title: 'Jujutsu Kaisen',
          tags: ['anime'],
          description : 'A wallpaper of Kento Nanami from Jujutsu Kaisen anime',
},
         
{
          id : 30,
          src : 'Pinterest/naruto1.jpeg',
          title: 'Naruto',
          tags: ['anime'],
          description : 'A wallpaper of Naruto anime',
},
         
{
          id : 31,
          src : 'Pinterest/naruto2.jpeg',
          title: 'Naruto',
          tags: ['anime'],
          description : 'A wallpaper of Naruto anime',
},
{
                  id : 32,
                  src : 'Pinterest/rocky1.jpeg',
                  title: 'Rocky',
                  tags: ['movies'],
                  description : 'A wallpaper of Rocky from KGF',
},

{
                  id : 33,
                  src : 'Pinterest/rocky2.jpeg',
                  title: 'Rocky',
                  tags: ['movies'],
                  description : 'A wallpaper of Rocky from KGF',
},

{
                  id : 34,
                  src : 'Pinterest/rocky3.jpeg',
                  title: 'Rocky',
                  tags: ['movies'],
                  description : 'A wallpaper of Rocky from KGF',
},

{
    id : 35,
    src : 'Pinterest/rocky4.jpeg',
    title: 'Rocky-KGF',
    tags: ['movies'],
    description : 'A wallpaper of Rocky from KGF',
},

{
         id : 36,
         src : 'Pinterest/Senkuu.jpeg',
         title: 'Senku-Doctor Stone',
         tags: ['anime'],
         description : 'A wallpaper of Senku from Dr Stone anime',
},
         
{
         id : 37,
         src : 'Pinterest/sunset.jpeg',
         title: 'Sunset',
         tags: ['aesthetics'],
         description : 'A wallpaper of Sunset',
},
         
{
         id : 38,
         src : 'Pinterest/Titan.jpeg',
         title: 'Attack On Titan',
         tags: ['anime'],
         description : 'A wallpaper of Attack on Titan anime',
},

{
         id : 39,
         src : 'Pinterest/titan2.jpeg',
         title: 'Attack On Titan',
         tags: ['anime'],
         description : 'A wallpaper of Attack on Titan anime',
},

{
         id : 40,
         src : 'Pinterest/titan3.jpeg',
         title: 'Attack On Titan',
         tags: ['anime'],
         description : 'A wallpaper of Attack on Titan anime',
},

{
         id : 41,
         src : 'Pinterest/Toji.jpeg',
         title: 'Toji Fushiguro',
         tags: ['anime'],
         description : 'A wallpaper of Toji Fushiguro from Jujutsu Kaisen anime',
},


];
const gallery = document.getElementById('gallery');
const filterBar = document.getElementById('filter-bar');
const shuffleBtn = document.getElementById('shuffle-btn');
const favoritesBtn = document.getElementById('favorites-btn');
const resetBtn = document.getElementById('reset-btn');

// (Add more DOM references for modal, etc., as needed)
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modal-img');
const modalTitle = document.getElementById('modal-title');
const modalDesc = document.getElementById('modal-desc');
const modalTags = document.getElementById('modal-tags');
const closeModalBtn = document.getElementById('close-modal');

function isFavorited(id) {
    const favs = JSON.parse(localStorage.getItem('favorites') || '[]');
    return favs.includes(id);
}

// --- Render Images ---
function renderImages(imageArray) {
  gallery.innerHTML = ''; // Clear the gallery

  imageArray.forEach(image => {
    const card = document.createElement('div');
    card.classList.add('card');

    // Image element
    const img = document.createElement('img');
    img.src = image.src;
    img.alt = image.title;
    img.addEventListener('click', () => openModal(image));
   

    // Title
    const title = document.createElement('h3');
    title.textContent = image.title;
    title.classList.add('card-title');
     title.addEventListener('click', () => openModal(image));

    // Tags container
    const tagsDiv = document.createElement('div');
    tagsDiv.classList.add('card-tags');
    image.tags.forEach(tag => {
      const tagSpan = document.createElement('span');
      tagSpan.classList.add('card-tag');
      tagSpan.textContent = tag;
      tagsDiv.appendChild(tagSpan);
    });

    // Favorite button
    const favBtn = document.createElement('button');
    favBtn.classList.add('favorite-btn');
    if (isFavorited(image.id)) {
        favBtn.innerHTML = '❤️';
        favBtn.classList.add('favorited');
    } else {
        favBtn.innerHTML = '♡';
    }
    favBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      toggleFavorite(image.id, favBtn);
    });

    // View details button
    const viewBtn = document.createElement('button');
    viewBtn.classList.add('view-btn');
    viewBtn.textContent = '🔍';
     viewBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      openModal(image);
    });

    // Assemble card
    card.appendChild(img);
    card.appendChild(title);
    card.appendChild(tagsDiv);
    card.appendChild(favBtn);
    card.appendChild(viewBtn);

    gallery.appendChild(card);
  });
}

// --- Initial Render ---
renderImages(images);

// --- Favorite Logic ---
function toggleFavorite(id, favBtn) {
  let favs = JSON.parse(localStorage.getItem('favorites') || '[]');
  const isCurrentlyFavorite = favs.includes(id);

  if (isCurrentlyFavorite) {
    // Remove from favorites
    favs = favs.filter(favId => favId !== id);
    favBtn.textContent = '♡';
    favBtn.classList.remove('favorited');
  } else {
    // Add to favorites
    favs.push(id);
    favBtn.textContent = '❤️';
    favBtn.classList.add('favorited');
  }

  localStorage.setItem('favorites', JSON.stringify(favs));
}

// --- Modal Logic ---
function openModal(image) {
  modal.classList.remove('hidden');
  modalImg.src = image.src;
  modalTitle.textContent = image.title;
  modalDesc.textContent = image.description;
  modalTags.innerHTML = '';
  image.tags.forEach(tag => {
    const tagSpan = document.createElement('span');
    tagSpan.className = 'card-tag';
    tagSpan.textContent = tag;
    modalTags.appendChild(tagSpan);
     modalImg.style.width = modalImg.naturalWidth + 'px';
    modalImg.style.height = modalImg.naturalHeight + 'px';
  });
}

// Modal close function and event listeners
function closeModal() {
  modal.classList.add('hidden');
  modalImg.src = '';
}
closeModalBtn.addEventListener('click', closeModal);
modal.addEventListener('click', e => {
  if (e.target === modal) closeModal();
});
window.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeModal();
});